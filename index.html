<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ØµÙ…Ø©</title>
</head>
<body style="font-family: Tahoma; text-align: center; margin-top: 100px;">

  <h2>Ù…Ø±Ø­Ø¨Ø§ ğŸ‘‹</h2>
  <p id="message" style="color: #c00; font-size: 18px;">
    Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ù„Ù… ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡ÙˆÙŠØªÙƒØŒ Ù„Ø§ ØªØºÙ„Ù‚ Ø§Ù„ØµÙØ­Ø© Ø­ØªÙ‰ ÙŠØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ù„Ø¨ØµÙ…Ø©.
  </p>

  <button onclick="verifyFingerprint()" style="padding: 10px 20px; font-size: 18px;">
    ØªÙØ¹ÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ØµÙ…Ø©
  </button>

  <script>
    async function verifyFingerprint() {
      try {
        const assertion = await navigator.credentials.get({
          publicKey: {
            challenge: new Uint8Array([1, 2, 3, 4, 5, 6]),
            timeout: 60000,
            userVerification: 'preferred'
          }
        });

        const res = await fetch("https://osama88.app.n8n.cloud/webhook/fingerprint-test", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            verified: true,
            employeeId: "12345",
            timestamp: new Date().toISOString()
          })
        });

        document.getElementById("message").innerText = "âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!";
        document.getElementById("message").style.color = "green";

      } catch (err) {
        console.error("Fingerprint failed:", err);
        document.getElementById("message").innerText = "ÙØ´Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ØŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
        document.getElementById("message").style.color = "#c00";
      }
    }
  </script>

</body>
</html>
